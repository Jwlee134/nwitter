(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{60:function(n,e,t){"use strict";t.r(e);var r=t(2),c=t(1),i=t.n(c),a=t(36),o=t.n(a),u=t(5),s=t(4),l=t(37),d=t(10),f=t(25);t(50),t(61),t(62);f.a.initializeApp({apiKey:"AIzaSyA2io33e6Ji_GdKdUHtPNNyF3Qs7Ibeb8M",authDomain:"nwitter-1a6ec.firebaseapp.com",projectId:"nwitter-1a6ec",storageBucket:"nwitter-1a6ec.appspot.com",messagingSenderId:"105172227793",appId:"1:105172227793:web:fb634dd65c35d643b857f0"});var j=f.a,b=f.a.auth(),x=f.a.firestore(),p=f.a.storage(),O={initialized:!1,loggedIn:!1,userObj:null,refreshUser:function(){}},h=Object(c.createContext)(O),v=function(n){var e=n.children,t=Object(c.useState)(!1),i=Object(d.a)(t,2),a=i[0],o=i[1],u=Object(c.useState)(!1),s=Object(d.a)(u,2),l=s[0],f=s[1],j=Object(c.useState)(null),x=Object(d.a)(j,2),p=x[0],O=x[1];return Object(c.useEffect)((function(){b.onAuthStateChanged((function(n){n?(O({displayName:n.displayName,uid:n.uid,updateProfile:function(e){return n.updateProfile(e)}}),f(!0)):f(!1),o(!0)}))}),[]),Object(r.jsx)(h.Provider,{value:{initialized:a,loggedIn:l,userObj:p,refreshUser:function(){var n=b.currentUser;n&&O({displayName:n.displayName,uid:n.uid,updateProfile:function(e){return n.updateProfile(e)}})}},children:e})},g=t(24),m=t(8),y=t(13),w=t.n(y),C=t(20),k=t(27),S=t(14),F=t(19);function A(){var n=Object(u.a)(["\n  width: 48%;\n  background-color: #ffffff;\n"]);return A=function(){return n},n}function I(){var n=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n"]);return I=function(){return n},n}function N(){var n=Object(u.a)(["\n  color: grey;\n  text-decoration: underline;\n  margin: 10px 0px;\n  font-size: 14px;\n  cursor: pointer;\n"]);return N=function(){return n},n}function U(){var n=Object(u.a)(["\n  color: #ee533a;\n  font-size: 12px;\n  margin: 5px 0px;\n  align-self: center;\n"]);return U=function(){return n},n}function P(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return P=function(){return n},n}function z(){var n=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return z=function(){return n},n}var D=s.c.div(z()),L=s.c.form(P()),E=s.c.div(U()),R=s.c.div(N()),B=s.c.div(I()),W=s.c.button(A()),q=function(){var n=Object(c.useState)(""),e=Object(d.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(""),o=Object(d.a)(a,2),u=o[0],s=o[1],l=Object(c.useState)(!1),f=Object(d.a)(l,2),x=f[0],p=f[1],O=Object(c.useState)(""),h=Object(d.a)(O,2),v=h[0],g=h[1],m=function(){var n=Object(C.a)(w.a.mark((function n(e){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),n.prev=1,!x){n.next=7;break}return n.next=5,b.createUserWithEmailAndPassword(t,u);case 5:n.next=9;break;case 7:return n.next=9,b.signInWithEmailAndPassword(t,u);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),g(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}(),y=function(n){var e=n.target,t=e.name,r=e.value;"email"===t?i(r):s(r)},A=function(){var n=Object(C.a)(w.a.mark((function n(e){var t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("google"!==e.currentTarget.name){n.next=7;break}return t=new j.auth.GoogleAuthProvider,n.next=5,b.signInWithPopup(t);case 5:n.next=9;break;case 7:return n.next=9,b.signInAnonymously();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(r.jsxs)(D,{children:[Object(r.jsx)(S.a,{icon:k.b,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(r.jsxs)(L,{onSubmit:m,children:[Object(r.jsx)("input",{name:"email",type:"email",placeholder:"Email",value:t,onChange:y,required:!0}),Object(r.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:u,onChange:y,required:!0}),Object(r.jsx)(E,{children:v}),Object(r.jsx)("input",{type:"submit",value:x?"Sign Up":"Sign In"})]}),Object(r.jsx)(R,{onClick:function(){return p(!x)},children:x?"Sign In":"Sign Up"}),Object(r.jsxs)(B,{children:[Object(r.jsxs)(W,{name:"google",onClick:A,children:["Continue with Google",Object(r.jsx)(S.a,{icon:k.a,style:{marginLeft:6}})]}),Object(r.jsxs)(W,{name:"anonymous",onClick:A,children:["Continue with Anonymous",Object(r.jsx)(S.a,{icon:F.a,style:{marginLeft:6}})]})]})]})},G=function(n){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),r=t[0],i=t[1],a=Object(c.useState)(n.text),o=Object(d.a)(a,2),u=o[0],s=o[1];return{editing:r,onSubmit:function(e){e.preventDefault(),i(!1),x.doc("nweets/".concat(n.id)).update({text:u})},toggleEditing:function(){return i((function(n){return!n}))},onDeleteClick:function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure?")){e.next=7;break}return e.next=4,x.doc("nweets/".concat(n.id)).delete();case 4:if(""===n.attachmentUrl){e.next=7;break}return e.next=7,p.refFromURL(n.attachmentUrl).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onChange:function(n){var e=n.target.value;s(e)},newNweet:u}};function J(){var n=Object(u.a)(["\n  border-radius: 50%;\n  margin: 10px;\n"]);return J=function(){return n},n}function M(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return M=function(){return n},n}function H(){var n=Object(u.a)(["\n  margin: 10px 0px;\n  padding: 10px 15px;\n  width: 170px;\n  background-color: #ee533a;\n  color: #ffffff;\n  &:hover {\n    background-color: #ee7562;\n  }\n"]);return H=function(){return n},n}function K(){var n=Object(u.a)(["\n  width: 140px;\n"]);return K=function(){return n},n}function _(){var n=Object(u.a)(["\n  display: flex;\n  padding: 0px 10px;\n  justify-content: space-evenly;\n"]);return _=function(){return n},n}function Q(){var n=Object(u.a)(["\n  all: unset;\n  cursor: pointer;\n"]);return Q=function(){return n},n}function T(){var n=Object(u.a)(["\n  width: 60px;\n  min-width: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n"]);return T=function(){return n},n}function V(){var n=Object(u.a)(["\n  width: 85%;\n  padding: 15px;\n  padding-right: 0px;\n  word-break: break-all;\n  line-height: 1.2;\n"]);return V=function(){return n},n}function X(){var n=Object(u.a)(["\n  display: flex;\n  background-color: #ffffff;\n  border-radius: 10px;\n  margin: 10px 0px;\n"]);return X=function(){return n},n}var Y=s.c.div(X()),Z=s.c.h4(V()),$=s.c.div(T()),nn=s.c.button(Q()),en=s.c.div(_()),tn=s.c.input(K()),rn=s.c.button(H()),cn=s.c.div(M()),an=s.c.img(J()),on=function(n){var e=n.nweet,t=n.isCreator,c=G(e),i=c.editing,a=c.onSubmit,o=c.toggleEditing,u=c.onDeleteClick,s=c.onChange,l=c.newNweet;return Object(r.jsx)(Y,{children:t&&i?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("form",{onSubmit:a,children:[Object(r.jsx)("input",{type:"text",placeholder:"Edit your nweet.",value:l,onChange:s,required:!0}),Object(r.jsxs)(en,{children:[Object(r.jsx)(tn,{type:"submit",value:"Save"}),Object(r.jsx)(rn,{onClick:o,children:"Cancel"})]})]})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{children:e.text}),e.attachmentUrl&&Object(r.jsx)(cn,{children:Object(r.jsx)(an,{src:e.attachmentUrl,width:"100px",height:"100px",alt:""})}),t&&Object(r.jsxs)($,{children:[Object(r.jsx)(nn,{onClick:u,children:Object(r.jsx)(S.a,{icon:F.e})}),Object(r.jsx)(nn,{onClick:o,children:Object(r.jsx)(S.a,{icon:F.b})})]})]})})},un=t(64),sn=function(n){var e=Object(c.useContext)(h).userObj,t=Object(c.useState)(""),r=Object(d.a)(t,2),i=r[0],a=r[1],o=Object(c.useState)(""),u=Object(d.a)(o,2),s=u[0],l=u[1];return{text:i,attachment:s,handleSubmit:function(){var t=Object(C.a)(w.a.mark((function t(r){var c,o,u,d,f;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),c="",""===s){t.next=10;break}return o=p.ref().child("".concat(null===e||void 0===e?void 0:e.uid,"/").concat(Object(un.a)(),"}")),t.next=6,o.putString(s,"data_url");case 6:return u=t.sent,t.next=9,u.ref.getDownloadURL();case 9:c=t.sent;case 10:d={text:i,createdAt:Date.now(),creatorId:null===e||void 0===e?void 0:e.uid,attachmentUrl:c},""!==i&&((f=n.current)&&(f.value=""),a(""),l(""),x.collection("nweets").add(d));case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),handleChange:function(n){var e=n.target.value;a(e)},onFileChange:function(n){var e=n.target.files;if(e){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onloadend=function(n){var e;l(null===n||void 0===n||null===(e=n.target)||void 0===e?void 0:e.result)}}},onClearAttachment:function(){var e=n.current;e&&(e.value=""),l("")}}};function ln(){var n=Object(u.a)(["\n  all: unset;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  color: #099fff;\n"]);return ln=function(){return n},n}function dn(){var n=Object(u.a)(["\n  margin-bottom: 10px;\n  border-radius: 50%;\n"]);return dn=function(){return n},n}function fn(){var n=Object(u.a)(["\n  display: none;\n"]);return fn=function(){return n},n}function jn(){var n=Object(u.a)(["\n  color: #099fff;\n  text-align: center;\n"]);return jn=function(){return n},n}function bn(){var n=Object(u.a)(["\n  width: 335px;\n  padding-right: 50px;\n"]);return bn=function(){return n},n}function xn(){var n=Object(u.a)(["\n  margin: 20px 0px;\n  cursor: pointer;\n"]);return xn=function(){return n},n}function pn(){var n=Object(u.a)(["\n  width: 41.6px;\n  height: 41.6px;\n  padding: 0;\n  position: absolute;\n  right: 0;\n"]);return pn=function(){return n},n}function On(){var n=Object(u.a)(["\n  position: relative;\n"]);return On=function(){return n},n}function hn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return hn=function(){return n},n}var vn=s.c.form(hn()),gn=s.c.div(On()),mn=s.c.input(pn()),yn=s.c.label(xn()),wn=s.c.input(bn()),Cn=s.c.span(jn()),kn=s.c.input(fn()),Sn=s.c.img(dn()),Fn=s.c.button(ln()),An=function(){var n=Object(c.useRef)(null),e=sn(n),t=e.text,i=e.attachment,a=e.handleSubmit,o=e.handleChange,u=e.onFileChange,s=e.onClearAttachment;return Object(r.jsxs)(vn,{onSubmit:a,children:[Object(r.jsxs)(gn,{children:[Object(r.jsx)(wn,{type:"text",placeholder:"What's on your mind?",maxLength:120,value:t,onChange:o}),Object(r.jsx)(mn,{type:"submit",value:"\u2714"})]}),Object(r.jsxs)(yn,{htmlFor:"attach-file",children:[Object(r.jsx)(Cn,{children:"Add a Photo"}),Object(r.jsx)(S.a,{icon:F.c,style:{color:"#099fff",marginLeft:7}})]}),Object(r.jsx)(kn,{id:"attach-file",ref:n,type:"file",accept:"image/*",onChange:u}),i&&Object(r.jsxs)("div",{children:[Object(r.jsx)(Sn,{src:i,width:"100px",height:"100px",alt:""}),Object(r.jsxs)(Fn,{onClick:s,children:["Cancel",Object(r.jsx)(S.a,{icon:F.d,style:{color:"#099fff",marginLeft:7}})]})]})]})},In=t(41),Nn={nweets:[]},Un=Object(c.createContext)(Nn),Pn=function(n){var e=n.children,t=Object(c.useState)([]),i=Object(d.a)(t,2),a=i[0],o=i[1];return Object(c.useEffect)((function(){x.collection("nweets").orderBy("createdAt","desc").onSnapshot((function(n){var e=n.docs.map((function(n){return Object(In.a)({id:n.id},n.data())}));o(e)}))}),[]),Object(r.jsx)(Un.Provider,{value:{nweets:a},children:e})};function zn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return zn=function(){return n},n}var Dn=s.c.div(zn()),Ln=function(){var n=Object(c.useContext)(h).userObj,e=Object(c.useContext)(Un).nweets;return Object(r.jsxs)(Dn,{children:[Object(r.jsx)(An,{}),e.map((function(e){return Object(r.jsx)(on,{nweet:e,isCreator:e.creatorId===(null===n||void 0===n?void 0:n.uid)},e.id)}))]})},En=function(){var n=Object(m.f)(),e=Object(c.useContext)(h),t=e.userObj,r=e.refreshUser,i=Object(c.useState)(null===t||void 0===t?void 0:t.displayName),a=Object(d.a)(i,2),o=a[0],u=a[1];return{onLogOut:function(){b.signOut(),n.push("/")},onChange:function(n){var e=n.target.value;u(e)},onSubmit:function(){var n=Object(C.a)(w.a.mark((function n(e){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),(null===t||void 0===t?void 0:t.displayName)===o){n.next=5;break}return n.next=4,null===t||void 0===t?void 0:t.updateProfile({displayName:o});case 4:r();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),userObj:t,newName:o}};function Rn(){var n=Object(u.a)(["\n  width: 100%;\n  height: 30px;\n  border-radius: 50px;\n  background-color: #ee533a;\n  color: #ffffff;\n"]);return Rn=function(){return n},n}function Bn(){var n=Object(u.a)(["\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  padding-bottom: 20px;\n  margin-bottom: 30px;\n"]);return Bn=function(){return n},n}var Wn=s.c.form(Bn()),qn=s.c.button(Rn()),Gn=function(){var n=En(),e=n.onLogOut,t=n.onChange,c=n.onSubmit,i=n.userObj,a=n.newName;return Object(r.jsxs)(r.Fragment,{children:[null!==(null===i||void 0===i?void 0:i.displayName)&&Object(r.jsxs)(Wn,{onSubmit:c,children:[Object(r.jsx)("input",{type:"text",placeholder:"Display Name",onChange:t,value:a}),Object(r.jsx)("input",{type:"submit",value:"Save"})]}),Object(r.jsx)(qn,{onClick:e,children:"Sign Out"})]})};function Jn(){var n=Object(u.a)(["\n  font-size: 13px;\n  margin-top: 10px;\n"]);return Jn=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  text-align: center;\n"]);return Mn=function(){return n},n}function Hn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]);return Hn=function(){return n},n}function Kn(){var n=Object(u.a)(["\n  width: 100%;\n  padding-top: 80px;\n  padding-bottom: 40px;\n"]);return Kn=function(){return n},n}var _n=s.c.div(Kn()),Qn=s.c.ul(Hn()),Tn=s.c.li(Mn()),Vn=s.c.div(Jn()),Xn=function(){var n=Object(c.useContext)(h).userObj;return Object(r.jsx)(_n,{children:Object(r.jsxs)(Qn,{children:[Object(r.jsx)(Tn,{children:Object(r.jsx)(g.b,{to:"/",children:Object(r.jsx)(S.a,{icon:k.b,style:{color:"#099FFF"},size:"2x"})})}),Object(r.jsx)(Tn,{children:Object(r.jsxs)(g.b,{to:"/profile",children:[Object(r.jsx)(S.a,{icon:F.f,style:{color:"#099FFF"},size:"2x"}),Object(r.jsxs)(Vn,{children:[(null===n||void 0===n?void 0:n.displayName)?null===n||void 0===n?void 0:n.displayName:"Anonymous","'s Profile"]})]})})]})})},Yn=function(){var n=Object(c.useContext)(h).loggedIn;return Object(r.jsxs)(g.a,{children:[n&&Object(r.jsx)(Xn,{}),Object(r.jsx)(m.c,{children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{exact:!0,path:"/",children:Object(r.jsx)(Ln,{})}),Object(r.jsx)(m.a,{exact:!0,path:"/profile",children:Object(r.jsx)(Gn,{})})]}):Object(r.jsx)(m.a,{exact:!0,path:"/",children:Object(r.jsx)(q,{})})})]})};function Zn(){var n=Object(u.a)(["\n  width: 400px;\n  height: 100vh;\n  margin: 0 auto;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  ",";\n  body{\n    height:100vh;\n    background-color:#333333;\n    font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n  form{\n    width:100%;\n  }\n  input{\n    all:unset;\n    width:370px;\n    background-color:#ffffff;\n    padding:10px 15px;\n    border-radius:50px;\n    margin:10px 0px;\n  }\n  input[type=\"submit\"]{\n    color:#ffffff;\n    background-color:#099FFF;\n    text-align:center;\n    &:hover{\n      background-color:#33b1ff;\n    }\n  }\n  a{\n    color:#ffffff;\n    text-decoration:none;\n  }\n  *{\n    box-sizing: border-box;\n  }\n  button{\n    padding: 10px 5px;\n    border:none;\n    border-radius: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:focus {\n      outline: none;\n    }\n  }\n"]);return $n=function(){return n},n}var ne=Object(s.a)($n(),l.a),ee=s.c.div(Zn()),te=function(){var n=Object(c.useContext)(h).initialized;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ne,{}),Object(r.jsx)(ee,{children:n?Object(r.jsx)(Yn,{}):"Initializing..."})]})};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(v,{children:Object(r.jsx)(Pn,{children:Object(r.jsx)(te,{})})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.6c393840.chunk.js.map